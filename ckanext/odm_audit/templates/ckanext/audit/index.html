{% extends "page.html" %}

{% block breadcrumb_content %}
  <li class="active">{{ 'Audit stats' }}</li>
{% endblock %}

{% block primary_content %}
  <article class="module">

    <section id="stats-private" class="module-content tab-content">
      <h2>{{ _('Private Datasets') }}</h2>
      {% if c.private_packages %}
        <table class="table table-chunky table-bordered table-striped">
          <thead>
            <tr>
              <th>{{ _('Dataset') }}</th>
            </tr>
          </thead>
          <tbody>
            {% for package in c.private_packages %}
              <tr py:for="package in c.private_packages">
                <td>{{ h.link_to(package.title or package.name, h.url_for(controller='package', type=package.type, action='read', id=package.name)) }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      {% else %}
        <p class="empty">{{ _('No private datasets') }}</p>
      {% endif %}
    </section>

  </article>
{% endblock %}

{% block secondary_content %}
  <section class="module module-narrow">
    <h2 class="module-heading"><i class="icon-bar-chart icon-medium"></i> {{ _('Statistics Menu') }}</h2>
    <nav data-module="stats-nav">
      <ul class="unstyled nav nav-simple">
        <li class="nav-item"><a href="#stats-private" data-toggle="tab">{{ _('Privates Datasets') }}</a></li>
      </ul>
    </nav>
  </section>
{% endblock %}

{% block scripts %}
  {{ super() }}
{#
Hellish hack to get excanvas to work in IE8. We disable html5shiv from
overriding the createElement() method on this page.
See: http://stackoverflow.com/questions/10208062/using-flot-with-bootstrap-ie8-incompatibility
#}
{% resource "vendor/block_html5_shim" %}
{% resource "ckanext_stats/stats" %}
{% endblock %}
